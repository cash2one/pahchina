{% extends 'base-admin.html' %}

{% block title %}
患者详情页面
{% endblock %}

{% block content %}
    <h2>患者详情页面</h2>
    <div>
        <a href="{% url 'list-patient' %}" class="button">返回列表</a>
    </div>
    <table class="table bordered">
        <tr>
            <th>用户名</th>
            <td><a href="{{ patient.user.get_absolute_url }}">{{ patient.user.username }}</a></td>
        </tr>
        <tr>
            <th>照片</th>
            <td>
                {% if patient.user.avatar %}
                <img src="{{ patient.user.avatar.url }}" alt="{{ patient.user.username }}"/>
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>姓名</th>
            <td>{{ patient.user.get_full_name }}</td>
        </tr>
        <tr>
            <th>Email</th>
            <td>{{ patient.user.email }}</td>
        </tr>
        <tr>
            <th>身份</th>
            <td>{{ patient.user.get_identity }}</td>
        </tr>
        <tr>
            <th></th>
            <td><a class="button black" href="{% url 'update-user' patient.user.id %}">点击修改以上用户信息</a></td>
        </tr>
        <tr>
            <th>性别</th>
            <td>{{ patient.get_sex }}</td>
        </tr>
        <tr>
            <th>身份证号码</th>
            <td>{{ patient.id_no }}</td>
        </tr>
        <tr>
            <th>户籍地</th>
            <td>{{ patient.hometown }}</td>
        </tr>
        <tr>
            <th>居住地</th>
            <td>{{ patient.local }}</td>
        </tr>
        <tr>
            <th>发病日期</th>
            <td>{{ patient.onset_date }}</td>
        </tr>
        <tr>
            <th>发病原因</th>
            <td>{{ patient.onset_causes }}</td>
        </tr>
        <tr>
            <th>检查单据</th>
            <td>
                {% if patient.checklist %}
                    <img src="{{ patient.checklist.url }}" alt="{{ patient.user.username }}的检查单据"/>
                {% endif %} 
            </td>
        </tr>
        <tr>
            <th>病性</th>
            <td>{{ patient.disease_quality }}</td>
        </tr>
        <tr>
            <th>心情</th>
            <td>{{ patient.mood }}</td>
        </tr>
        <tr>
            <th>发病过程</th>
            <td>{{ patient.onset_process }}</td>
        </tr>
        <tr>
            <th></th>
            <td><a href="{% url 'update-patient' patient.id %}" class="button black">点击修改以上患者信息</a></td>
        </tr>
    </table>
{% endblock %}